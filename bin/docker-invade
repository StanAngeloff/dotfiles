#!/usr/bin/env bash

set -eo pipefail

if [ $# -lt 1 ]; then
  echo 'Usage: '"$( basename "$0" )"' CONTAINER_NAME [CMD]' 1>&2
  exit 1
fi

container_name="$1"
container_command="${2:-/bin/bash}"

sudo lxc-attach -n `sudo docker ps -notrunc | grep "$container_name" | head -n1 | awk '{ print $1 }'` -- "$container_command"
